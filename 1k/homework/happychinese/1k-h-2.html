<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>第１課-本文２</title>
<style type="text/css">
.main {
    font-family: SimSun;
}
.japanese {
    font-family: ＭＳ 明朝;
}
.chinese {
    font-family: SimSun;
}
body,td,th {
    font-size: 24px;
}
a:link {
    color: #03F;
}
a:visited {
    color: #03F;
}
</style>
<script>

</script>
</head>
<body>

</h6>
<!--背景の色 -->
<style>
body{background-color:lightblue; font-family:sans-serif;}
</style>
<div>
<h1 align="center"><font face="simsun">
第１課　你好　</font>
<h1>
</div>
<div>
<table id="title" align="center">
  <tr>
      <td>
          <lable>表示選択</lable>
      </td>
      <td class="selecter">
          <select name="select" onchange="setViewItem(this.value)" id="language_1">
            <option value="chinese" selected>中国語 </option>
            <option value="japanese">中国語+日本語 </option>
            <option value="pinyin">中国語+ピンイン </option>
            <option value="everything" >全部 </option>
          </select>
     </td>
<td>
          <input type="button" value="全文朗読" onclick="playAllRadioList(3)"/>
      </td>
<td>
          <input type="button" value="終了" onclick="myrefresh()"/>
      </td>
     <td> <a href="../../1k.html">戻る</a></td>
  </tr>
</table>
</div>
<div>
<table align="center">


  
  <tr></tr><tr height="20"></tr><tr><td align="center">2</td></tr><tr height="10"></tr>
  
  <tr id="td_ch_1">
   <td>
    <lable id="1k-h-5_ch" onclick="fileStart(this.id)"><font face="simhei">A:老师，　您贵姓？</font></lable>
       </td>
  </tr>
  
  <tr id="td_py_1" style="display:none">
   <td id="ch_1">
    <lable id="1k-h-5_py" onclick="fileStart(this.id)"><font size="3" face="simsun" >　Lǎoshī,　　 nín guì xìng？</font> </lable>     

   </td>
  </tr>
  <tr id="td_jp_1" style="display:none">
   <td>
   <lable id="1k-h-5_jp" onclick="fileStart(this.id)"><font size="3" face="ms-gothic" >先生は何とおっしゃいますか。</font></lable>
       </td>
  </tr> 
  
  <tr id="td_ch_2">
   <td>
    <lable id="1k-h-6_ch" onclick="fileStart(this.id)"><font face="simhei">B:我姓张，　叫张华。请坐。</font></lable>
       </td>
  </tr>
  
  <tr id="td_py_2" style="display:none">
   <td id="ch_1">
    <lable id="1k-h-6_py" onclick="fileStart(this.id)"><font size="3" face="simsun" >　　Wǒ xìng Zhāng, jiào Zhāng Huá. Qǐng zuò.</font> </lable>     

   </td>
  </tr>
  <tr id="td_jp_2" style="display:none">
   <td>
   <lable id="1k-h-6_jp" onclick="fileStart(this.id)"><font size="3" face="ms-gothic" >私の苗字は張で、張華と言います。どうぞ、おかけください。</font></lable>
       </td>
  </tr> 
  
  <tr id="td_ch_3">
   <td>
    <lable id="1k-h-7_ch" onclick="fileStart(this.id)"><font face="simhei">A:谢谢。</font></lable>
       </td>
  </tr>
  
  <tr id="td_py_3" style="display:none">
   <td id="ch_1">
    <lable id="1k-h-7_py" onclick="fileStart(this.id)"><font size="3" face="simsun" >　Xièxie.</font> </lable>     

   </td>
  </tr>
  <tr id="td_jp_3" style="display:none">
   <td>
   <lable id="1k-h-7_jp" onclick="fileStart(this.id)"><font size="3" face="ms-gothic" >ありがとうございます。</font></lable>
       </td>
  </tr> 
  
  <tr id="td_ch_4">
   <td>
    <lable id="1k-h-8_ch" onclick="fileStart(this.id)"><font face="simhei">B:不客气。</font></lable>
       </td>
  </tr>
  
  <tr id="td_py_4" style="display:none">
   <td id="ch_1">
    <lable id="1k-h-8_py" onclick="fileStart(this.id)"><font size="3" face="simsun" >　　Bú kè qi.</font> </lable>     

   </td>
  </tr>
  <tr id="td_jp_4" style="display:none">
   <td>
   <lable id="1k-h-8_jp" onclick="fileStart(this.id)"><font size="3" face="ms-gothic" >どういたしまして。</font></lable>
       </td>
  </tr> 
  <tr height="20"></tr>
      <tr>
       <td>
       <a href="1k-h-1.html">前へ</a>
       </td>
      </tr>
  </table>
  
</div>
<!-- AUDIO CREATE START -->
<audio id="audiolocal" ></audio>
<!-- AUDIO CREATE END -->
<h6 align="center"></h6>
<script>

// メディアプレイヤー
var oAudio  = document.getElementById('audiolocal');

// 前回文字ID
var idper = "";

// 言語表示
// lang:dropdownlistの選択値
function setViewItem(lang) {
    //TRのID
    // 第一行目
    var p_strIdCh_1 = document.getElementById("td_ch_1");
    var p_strIdJp_1 = document.getElementById("td_jp_1");
    var p_strIdPy_1 = document.getElementById("td_py_1");
    // 第二行目
    var p_strIdCh_2 = document.getElementById("td_ch_2");
    var p_strIdJp_2 = document.getElementById("td_jp_2");
    var p_strIdPy_2 = document.getElementById("td_py_2");
    // 第三行目
    var p_strIdCh_3 = document.getElementById("td_ch_3");
    var p_strIdJp_3 = document.getElementById("td_jp_3");
    var p_strIdPy_3 = document.getElementById("td_py_3");
        // 第4行目
    var p_strIdCh_4 = document.getElementById("td_ch_4");
    var p_strIdJp_4 = document.getElementById("td_jp_4");
    var p_strIdPy_4 = document.getElementById("td_py_4");
    // 第5行目
    var p_strIdCh_5 = document.getElementById("td_ch_5");
    var p_strIdJp_5 = document.getElementById("td_jp_5");
    var p_strIdPy_5 = document.getElementById("td_py_5");
    // 第6行目
    var p_strIdCh_6 = document.getElementById("td_ch_6");
    var p_strIdJp_6 = document.getElementById("td_jp_6");
    var p_strIdPy_6 = document.getElementById("td_py_6");
    // 第7行目
    var p_strIdCh_7 = document.getElementById("td_ch_7");
    var p_strIdJp_7 = document.getElementById("td_jp_7");
    var p_strIdPy_7 = document.getElementById("td_py_7");
    // 第8行目
    var p_strIdCh_8 = document.getElementById("td_ch_8");
    var p_strIdJp_8 = document.getElementById("td_jp_8");
    var p_strIdPy_8 = document.getElementById("td_py_8");

        // 第n行目
    //  var p_strIdCh_n = document.getElementById("td_ch_n");
     // var p_strIdJp_n = document.getElementById("td_jp_n");
    //  var p_strIdPy_n = document.getElementById("td_py_n");

    
    
    if (lang == "chinese") {
        // 引数=chineseの時
        // 第一行目
        // TRを活性に設定
        p_strIdCh_1.style.display = '';
        // TRを非活性に設定
        p_strIdJp_1.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_1.style.display = 'none';
        
        // 第二行目
        // TRを活性に設定
        p_strIdCh_2.style.display = '';
        // TRを非活性に設定
        p_strIdJp_2.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_2.style.display = 'none';
        
        // 第三行目
        // TRを活性に設定
        p_strIdCh_3.style.display = '';
        // TRを非活性に設定
        p_strIdJp_3.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_3.style.display = 'none';
        
                // 第4行目
        // TRを活性に設定
        p_strIdCh_4.style.display = '';
        // TRを非活性に設定
        p_strIdJp_4.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_4.style.display = 'none';
     
             // 第5行目
        // TRを活性に設定
        p_strIdCh_5.style.display = '';
        // TRを非活性に設定
        p_strIdJp_5.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_5.style.display = 'none';
     
             // 第6行目
        // TRを活性に設定
        p_strIdCh_6.style.display = '';
        // TRを非活性に設定
        p_strIdJp_6.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_6.style.display = 'none';
     
             // 第7行目
        // TRを活性に設定
        p_strIdCh_7.style.display = '';
        // TRを非活性に設定
        p_strIdJp_7.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_7.style.display = 'none';
     
             // 第8行目
        // TRを活性に設定
        p_strIdCh_8.style.display = '';
        // TRを非活性に設定
        p_strIdJp_8.style.display = 'none';
        // TRを非活性に設定
        p_strIdPy_8.style.display = 'none';
     
        
    } else if (lang == "japanese") {
        // 引数=japaneseの時
        // 第一行目
        // TRを非活性に設定
        p_strIdCh_1.style.display = '';
        // TRを活性に設定
        p_strIdJp_1.style.display = '';
        // TRを非活性に設定
        p_strIdPy_1.style.display = 'none';
        
        // 第二行目
        // TRを非活性に設定
        p_strIdCh_2.style.display = '';
        // TRを活性に設定
        p_strIdJp_2.style.display = '';
        // TRを非活性に設定
        p_strIdPy_2.style.display = 'none';
        
        // 第三行目
        // TRを非活性に設定
        p_strIdCh_3.style.display = '';
        // TRを活性に設定
        p_strIdJp_3.style.display = '';
        // TRを非活性に設定
        p_strIdPy_3.style.display = 'none';
        
             // 第4行目
        // TRを非活性に設定
        p_strIdCh_4.style.display = '';
        // TRを活性に設定
        p_strIdJp_4.style.display = '';
        // TRを非活性に設定
        p_strIdPy_4.style.display = 'none';
    
         // 第5行目
        // TRを非活性に設定
        p_strIdCh_5.style.display = '';
        // TRを活性に設定
        p_strIdJp_5.style.display = '';
        // TRを非活性に設定
        p_strIdPy_5.style.display = 'none';
    
         // 第6行目
        // TRを非活性に設定
        p_strIdCh_6.style.display = '';
        // TRを活性に設定
        p_strIdJp_6.style.display = '';
        // TRを非活性に設定
        p_strIdPy_6.style.display = 'none';
    
         // 第7行目
        // TRを非活性に設定
        p_strIdCh_7.style.display = '';
        // TRを活性に設定
        p_strIdJp_7.style.display = '';
        // TRを非活性に設定
        p_strIdPy_7.style.display = 'none';
    
         // 第8行目
        // TRを非活性に設定
        p_strIdCh_8.style.display = '';
        // TRを活性に設定
        p_strIdJp_8.style.display = '';
        // TRを非活性に設定
        p_strIdPy_8.style.display = 'none';
    
        
    } else if (lang == "pinyin") {
        // 引数=pinyinの時
        // 第一行目
        // TRを非活性に設定
        p_strIdCh_1.style.display = '';
        // TRを非活性に設定
        p_strIdJp_1.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_1.style.display = '';
        
        // 第二行目
        // TRを非活性に設定
        p_strIdCh_2.style.display = '';
        // TRを非活性に設定
        p_strIdJp_2.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_2.style.display = '';
        
        // 第三行目
        // TRを非活性に設定
        p_strIdCh_3.style.display = '';
        // TRを非活性に設定
        p_strIdJp_3.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_3.style.display = '';
        
                        
               // 第4行目
        // TRを非活性に設定
        p_strIdCh_4.style.display = '';
        // TRを非活性に設定
        p_strIdJp_4.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_4.style.display = '';
        
   
                // 第5行目
        // TRを非活性に設定
        p_strIdCh_5.style.display = '';
        // TRを非活性に設定
        p_strIdJp_5.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_5.style.display = '';
        
          // 第6行目
        // TRを非活性に設定
        p_strIdCh_6.style.display = '';
        // TRを非活性に設定
        p_strIdJp_6.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_6.style.display = '';
        
                // 第7行目
        // TRを非活性に設定
        p_strIdCh_7.style.display = '';
        // TRを非活性に設定
        p_strIdJp_7.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_7.style.display = '';
        
   
                // 第8行目
        // TRを非活性に設定
        p_strIdCh_8.style.display = '';
        // TRを非活性に設定
        p_strIdJp_8.style.display = 'none';
        // TRを活性に設定
        p_strIdPy_8.style.display = '';
        
   
        
    } else if (lang == "everything") {
        // 引数=pinyinの時
        // 第一行目
        // TRを非活性に設定
        p_strIdCh_1.style.display = '';
        // TRを非活性に設定
        p_strIdJp_1.style.display = '';
        // TRを活性に設定
        p_strIdPy_1.style.display = '';
        
        // 第二行目
        // TRを非活性に設定
        p_strIdCh_2.style.display = '';
        // TRを非活性に設定
        p_strIdJp_2.style.display = '';
        // TRを活性に設定
        p_strIdPy_2.style.display = '';
        
        // 第三行目
        // TRを非活性に設定
        p_strIdCh_3.style.display = '';
        // TRを非活性に設定
        p_strIdJp_3.style.display = '';
        // TRを活性に設定
        p_strIdPy_3.style.display = '';
        
         // 第4行目
        // TRを非活性に設定
        p_strIdCh_4.style.display = '';
        // TRを非活性に設定
        p_strIdJp_4.style.display = '';
        // TRを活性に設定
        p_strIdPy_4.style.display = '';
        
         // 第5行目
        // TRを非活性に設定
        p_strIdCh_5.style.display = '';
        // TRを非活性に設定
        p_strIdJp_5.style.display = '';
        // TRを活性に設定
        p_strIdPy_5.style.display = '';
        
         // 第6行目
        // TRを非活性に設定
        p_strIdCh_6.style.display = '';
        // TRを非活性に設定
        p_strIdJp_6.style.display = '';
        // TRを活性に設定
        p_strIdPy_6.style.display = '';
        
         // 第7行目
        // TRを非活性に設定
        p_strIdCh_7.style.display = '';
        // TRを非活性に設定
        p_strIdJp_7.style.display = '';
        // TRを活性に設定
        p_strIdPy_7.style.display = '';
        
         // 第8行目
        // TRを非活性に設定
        p_strIdCh_8.style.display = '';
        // TRを非活性に設定
        p_strIdJp_8.style.display = '';
        // TRを活性に設定
        p_strIdPy_8.style.display = '';
        
    }
};


// 全部再生
function playAllRadioList(raditCnt) {
    // radioファイル配列
    var radioArgs = new Array('1k-h-5', '1k-h-6', '1k-h-7', '1k-h-8');
   
    // ファイル再生を呼出
    // 0は固定値
    doRadioFile(radioArgs, 0);
};

// ファイル再生
function doRadioFile(radioArgs, indexNum) {
  
  // 前回文字の色を戻り
    addColorToStr(idper, 'black');
    
    // ファイル終了判断
    if (indexNum >= radioArgs.length) {
        // 再生終了
        return;
    }
    // '.mp3'
    var lastStr = '.mp3';
    // 本ファイル名
    var filename = radioArgs[indexNum].concat(lastStr);
    

    // フォルダ
    var folderPath = 'sound/';
    // フルパス
    var filePath = folderPath.concat(filename);
    
    // NEW 新プレヤー
    //oAudio = new Audio(filePath);

    oAudio.src = filePath;
    // ファイル再生処理
    oAudio.play();

    // 前回文字IDを設定
    idper = radioArgs[indexNum];

    // 文字色を設定
    addColorToStr(radioArgs[indexNum], 'red');


    oAudio.addEventListener("ended", function(){
    
        // 文字色を削除
        addColorToStr(radioArgs[indexNum], 'black');
        indexNum = indexNum+1;
        doRadioFile(radioArgs, indexNum);
    });

};

// アンダーバーを追加
function addColorToStr(strId, colorStr) {
    var strCh = "_ch";
    var strIdCh = strId.concat(strCh);
    
    var p_strIdCh = document.getElementById(strIdCh);
    if (p_strIdCh == undefined) {
        return;
    }
    
    // css追加
    p_strIdCh.style.color = colorStr;
   
};

// 指定されたファイルを再生
function fileStart(id) {

    // 前回文字の色を戻り
    addColorToStr(idper, 'black');

    // ファイル名称を取得
    var strs = id.split("_");
    if (strs.length > 0) {
        // '.mp3'
        var lastStr = '.mp3';
        // 本ファイル名
        var filename = strs[0].concat(lastStr);
        // var oAudio  = document.createElement("oAudio ");
        // フォルダ
        var folderPath = 'sound/';
        // フルパス
        var filePath = folderPath.concat(filename);
        
        oAudio.src = filePath;
        // ファイル再生処理
        oAudio.play();

    // 前回文字IDを設定
        idper = strs[0];
        // 文字色を設定
        addColorToStr(strs[0], 'red');
        oAudio.addEventListener("ended", function(){
        　　// 文字色を削除
            addColorToStr(strs[0], 'black');
            
            // 前回radio停止
            oAudio.pause();
            // 前回文字の色を戻り
            addColorToStr(idper, 'black');
        });
    }
};

// radioを終了
function myrefresh() 
{ 
    // 前回radio停止
    oAudio .pause();
    // 前回文字の色を戻り
    addColorToStr(idper, 'black');
};

</script>
</body>
</html>
